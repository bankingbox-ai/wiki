<!doctype html>
<html lang="es" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Flujo de trabajo ideal | My Site</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-test-site.com/wiki/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-test-site.com/wiki/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/wiki/blog/ideal-workflow"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Flujo de trabajo ideal | My Site"><meta data-rh="true" name="description" content="Definir cómo desarrollar es complejo. Se intersectan temas de cultura organizacional,"><meta data-rh="true" property="og:description" content="Definir cómo desarrollar es complejo. Se intersectan temas de cultura organizacional,"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-09-29T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://gitlab.com/broa"><meta data-rh="true" property="article:tag" content="tooling,guide"><link data-rh="true" rel="icon" href="/wiki/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/wiki/blog/ideal-workflow"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/wiki/blog/ideal-workflow" hreflang="es"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/wiki/blog/ideal-workflow" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/wiki/blog/rss.xml" title="My Site RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/wiki/blog/atom.xml" title="My Site Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"><link rel="stylesheet" href="/wiki/assets/css/styles.66d1563d.css">
<link rel="preload" href="/wiki/assets/js/runtime~main.85a0da2f.js" as="script">
<link rel="preload" href="/wiki/assets/js/main.92b91f83.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/wiki/"><div class="navbar__logo"><img src="/wiki/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/wiki/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">My Site</b></a><a class="navbar__item navbar__link" href="/wiki/docs/">Wiki</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/wiki/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Navegación de publicaciones recientes"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wiki/blog/picking-cicd-system">Crónica de la elección de un sistema de integración continua</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/wiki/blog/ideal-workflow">Flujo de trabajo ideal</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wiki/blog/how-to-build-a-test">Cómo construir un test</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wiki/blog/peer-feedback">Retroalimentación entre pares</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/wiki/blog/pair-programming">Pair Programming</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Flujo de trabajo ideal</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-09-29T00:00:00.000Z" itemprop="datePublished">29 de septiembre de 2022</time> · <!-- -->4 min de lectura</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://gitlab.com/broa" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://trello-members.s3.amazonaws.com/5e95bc4f2bc4ae1ad51b9dda/301e1a568b2b6527600023094f223b46/50.png" alt="Benjamín Roa"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://gitlab.com/broa" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Benjamín Roa</span></a></div><small class="avatar__subtitle" itemprop="description">Desarrollador</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>Definir cómo desarrollar es complejo. Se intersectan temas de cultura organizacional,
framework de trabajo, acuerdos de equipo, acuerdos técnicos y, si le agregas automatización,
unas cuantas líneas de código.</p><p>Dejamos algunas reflexiones y cabezazos que nos hemos dados con este tema.</p><p><img loading="lazy" alt="workflow" src="/wiki/assets/images/workflow-main-image-4f5591b64bc3708705a704e62e84d03c.jpeg" width="1400" height="425" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="como-solíamos-trabajar">Como solíamos trabajar<a href="#como-solíamos-trabajar" class="hash-link" aria-label="Enlace directo al Como solíamos trabajar" title="Enlace directo al Como solíamos trabajar">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="feature-branching--drone">Feature branching + Drone<a href="#feature-branching--drone" class="hash-link" aria-label="Enlace directo al Feature branching + Drone" title="Enlace directo al Feature branching + Drone">​</a></h3><p>El flujo de trabajo que conocemos sería más o menos así:</p><ul><li>Creo una rama a partir de la rama principal del repositorio</li><li>Diseño mis test y las mejoras que quiero hacer en el código</li><li>Creo un <em>merge request</em>, en ese momento se gatilla un <em>pipeline</em> en
el Drone que asegura calidad: audita, ejecuta <em>linters</em> y tests</li><li>Si pasé exitosamente por el proceso de aseguramiento de calidad, habilita
la opción para que sea posible <em>mergear</em> a la rama principal</li><li>Ejecuto el <em>merge</em> y ahora el nuevo código es parte de la rama principal</li><li>Al empujar un <em>tag</em> en el repositorio, se gatilla un nuevo <em>pipeline</em> que,
además de asegurar calidad, despliega la nueva versión del software en
producción</li></ul><p>Desde este lugar comienza nuestro viaje y sobre esta base comienza nuestra conversación.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pros">Pros<a href="#pros" class="hash-link" aria-label="Enlace directo al Pros" title="Enlace directo al Pros">​</a></h3><ul><li>Drone cuenta con una muy linda y amigable interfaz</li><li>Más vale diablo conocido que diablo por conocer, ...dicen</li><li>Nuestra implementación de Drone, si bien utiliza las herramientas provistas
por <a href="https://harness.io" target="_blank" rel="noopener noreferrer">Harness</a> y la comunidad (<code>Drone Server</code>, <code>Drone Runner</code>,
<code>Drone Autoscaler</code>, <code>Drone CLI</code>, etc), nos da mucha libertad al momento de personalizar
la experiencia</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contras">Contras<a href="#contras" class="hash-link" aria-label="Enlace directo al Contras" title="Enlace directo al Contras">​</a></h3><ul><li>No permite reutilizar variables en los <em>pipelines</em></li><li>Tiene pocas herramientas para optimizar las tareas que se ejecutan (fuera de crear imágenes docker)</li><li>De acuerdo a la licencia del mismo Drone, ya estamos fuera de la
Community Edition. Si decidiéramos quedarnos con esta herramienta, correspondería
pagarla</li><li>El flujo de trabajo supone la existencia de ramas y fricciona bastante el desarrollo,
obligándonos a crear diferentes versiones del código y exponiéndonos a potenciales
conflictos</li><li>Para llegar a producción, tenemos que pasar dos veces por el proceso de aseguramiento de calidad</li><li>Dado que los runners están desplegados por nosotros en nuestra nube de AWS, decidimos implementar
el <code>Drone Autoscaler</code>, que ofrece la posibilidad de arrancar nuevas máquinas en la medida que son
necesarias. El tiempo que se toma Drone en desplegar máquinas y luego ejecutar el <em>pipeline</em> en algunos
casos sobrepasaba los 10 minutos, estimamos que es demasiado</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="por-qué-queremos-cambiar">Por qué queremos cambiar<a href="#por-qué-queremos-cambiar" class="hash-link" aria-label="Enlace directo al Por qué queremos cambiar" title="Enlace directo al Por qué queremos cambiar">​</a></h3><p>Si bien nuestro flujo de trabajo es bastante natural y fluido, creemos que podemos llevarlo al siguiente
nivel. Además, si bien el Drone tiene muchas bondades, sus limitaciones nos están pesando un poco.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="feature-toggles-despliegue--release">Feature toggles: Despliegue !== Release<a href="#feature-toggles-despliegue--release" class="hash-link" aria-label="Enlace directo al Feature toggles: Despliegue !== Release" title="Enlace directo al Feature toggles: Despliegue !== Release">​</a></h2><p>Nuestro flujo de trabajo contempla el despliegue frecuente a producción
pero esto no siempre quiere decir que la funcionalidad está disponible
para ser utilizada.</p><p>El release, el momento en que se libera la funcionalidad a los usuarios,
está asociado a nuestros <em>feature toggles</em> y la forma en que estos son
liberados para su uso puede variar de acuerdo a decisiones de negocio. Un
cliente puede contar con una funcionalidad y otro, no; un usuario puede
tener acceso a una funcionalidad que está en proceso de desarrollo; un país
puede contar con una funcionalidad que otro país no; y así.</p><p>Esto implica que tenemos que acostumbrarnos a la idea de que en nuestro
software productivo conviven funcionalidades que están disponibles con otras
que no lo están. Tienen en común que todas deben cumplir con nuestro estándar de trabajo,
acuerdos de equipo y contar con test automatizados que nos dan la tranquilidad
de que, cuando estén activos, funcionarán correctamente.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="flujos-de-trabajo-ideal">Flujos de trabajo ideal<a href="#flujos-de-trabajo-ideal" class="hash-link" aria-label="Enlace directo al Flujos de trabajo ideal" title="Enlace directo al Flujos de trabajo ideal">​</a></h2><p><img loading="lazy" alt="workflow" src="/wiki/assets/images/workflow-3558cd6b9b16671fe1d65bcca6e9e7c4.png" width="2112" height="780" class="img_ev3q"></p><p>Luego de reflexionar, acordamos agregar más posibilidades para que el proceso
de desarrollo sea más corto: eliminar la necesidad de contar con una rama
y poder trabajar directamente con la rama principal de cada repositorio.</p><p>Diseñamos tres alternativas:</p><ul><li>Al empujar cambios en la rama principal, nuestro sistema de integración/despliegue continuo
tomará esa versión del código, asegurará calidad y desplegará en producción</li><li>Al crear un <em>merge request</em>, solo asegurará calidad</li><li>Al empujar un <em>tag</em> que incluya la palabra <code>hotfix</code>, tomará esos cambios, los someterá al
proceso de aseguramiento de calidad y desplegará los cambios en producción</li></ul><p>Queremos que el primero de los escenarios sea el más común, pero sabemos que existen algunas
situaciones en las que una rama será el camino, por eso mantendremos el segundo flujo de trabajo.</p><p>El tercero es para situaciones aún más excepcionales, en las que por algún <em>bug</em> sea necesario
pasar por encima de la última versión del código que está en la rama principal y llegar a producción.</p><p>Ahora se nos viene un proceso de investigación que nos ayude a definir qué herramientas
queremos utilizar para automatizar este proceso. Ya les iremos contando.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Etiquetas:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/wiki/blog/tags/tooling">tooling</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/wiki/blog/tags/guide">guide</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2022-09-29-ideal-workflow/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Barra de paginación de publicaciones del blog"><a class="pagination-nav__link pagination-nav__link--prev" href="/wiki/blog/picking-cicd-system"><div class="pagination-nav__sublabel">Publicación más reciente</div><div class="pagination-nav__label">Crónica de la elección de un sistema de integración continua</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/wiki/blog/how-to-build-a-test"><div class="pagination-nav__sublabel">Publicación más antigua</div><div class="pagination-nav__label">Cómo construir un test</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#como-solíamos-trabajar" class="table-of-contents__link toc-highlight">Como solíamos trabajar</a><ul><li><a href="#feature-branching--drone" class="table-of-contents__link toc-highlight">Feature branching + Drone</a></li><li><a href="#pros" class="table-of-contents__link toc-highlight">Pros</a></li><li><a href="#contras" class="table-of-contents__link toc-highlight">Contras</a></li><li><a href="#por-qué-queremos-cambiar" class="table-of-contents__link toc-highlight">Por qué queremos cambiar</a></li></ul></li><li><a href="#feature-toggles-despliegue--release" class="table-of-contents__link toc-highlight">Feature toggles: Despliegue !== Release</a></li><li><a href="#flujos-de-trabajo-ideal" class="table-of-contents__link toc-highlight">Flujos de trabajo ideal</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/wiki/docs/">Wiki</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/wiki/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/wiki/assets/js/runtime~main.85a0da2f.js"></script>
<script src="/wiki/assets/js/main.92b91f83.js"></script>
</body>
</html>